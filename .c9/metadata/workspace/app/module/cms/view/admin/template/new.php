{"filter":false,"title":"new.php","tooltip":"/app/module/cms/view/admin/template/new.php","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":17,"column":85},"end":{"row":17,"column":86},"action":"insert","lines":["e"],"id":24}],[{"start":{"row":17,"column":87},"end":{"row":17,"column":91},"action":"remove","lines":["menu"],"id":25},{"start":{"row":17,"column":87},"end":{"row":17,"column":95},"action":"insert","lines":["Template"]}],[{"start":{"row":70,"column":0},"end":{"row":90,"column":0},"action":"insert","lines":["var textarea = $('textarea[name=\"source\"]').hide(),","            editor = ace.edit(\"source\"),","            editorSession = editor.getSession();","","        editor.setTheme(\"ace/theme/eclipse\");","        editor.setOptions({","            minLines: 20,","            maxLines: Infinity","        });","","        editorSession.setUseWorker(false);","        editorSession.setMode(\"ace/mode/php\");","        editorSession.setValue(textarea.val());","        editorSession.on('change', function() {","            textarea.val(editorSession.getValue());","","            //console.log('sorry <script> tags wont work on live preview.');","            //$('#page-preview').html($('<div/>').html(editorSession.getValue()).find('script').remove().end().contents());","        });","        //$('#page-preview').html($('<div/>').html(editorSession.getValue()).find('script').remove().end().contents());",""],"id":26}],[{"start":{"row":69,"column":34},"end":{"row":70,"column":0},"action":"insert","lines":["",""],"id":27},{"start":{"row":70,"column":0},"end":{"row":70,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":71,"column":0},"end":{"row":71,"column":4},"action":"insert","lines":["    "],"id":28}],[{"start":{"row":49,"column":106},"end":{"row":49,"column":109},"action":"remove","lines":["-->"],"id":29},{"start":{"row":49,"column":28},"end":{"row":49,"column":32},"action":"remove","lines":["<!--"]}],[{"start":{"row":49,"column":37},"end":{"row":49,"column":41},"action":"remove","lines":["body"],"id":30},{"start":{"row":49,"column":37},"end":{"row":49,"column":43},"action":"insert","lines":["source"]}],[{"start":{"row":11,"column":6},"end":{"row":12,"column":0},"action":"insert","lines":["",""],"id":31}],[{"start":{"row":12,"column":0},"end":{"row":13,"column":0},"action":"insert","lines":["",""],"id":32}],[{"start":{"row":13,"column":0},"end":{"row":26,"column":0},"action":"insert","lines":["","<?php if (!empty($form['errors']['global'])): ?>","<div class=\"alert alert-danger\">","    <a href=\"#\" class=\"close\" data-dismiss=\"alert\">&times;</a>","    <?= $form['errors']['global'] ?>","</div>","<?php endif ?>","<?php if (!empty($form['errors']['success'])): ?>","    <div class=\"alert alert-success\">","        <a href=\"#\" class=\"close\" data-dismiss=\"alert\">&times;</a>","        <?= $form['errors']['success'] ?>","    </div>","<?php endif ?>",""],"id":33}],[{"start":{"row":12,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["",""],"id":34}],[{"start":{"row":25,"column":0},"end":{"row":26,"column":0},"action":"remove","lines":["",""],"id":35}],[{"start":{"row":35,"column":0},"end":{"row":48,"column":0},"action":"remove","lines":["","                    <?php if (!empty($form['errors']['global'])): ?>","                    <div class=\"alert alert-danger\">","                        <a href=\"#\" class=\"close\" data-dismiss=\"alert\">&times;</a>","                        <?= $form['errors']['global'] ?>","                    </div>","                    <?php endif ?>","                    <?php if (!empty($form['errors']['success'])): ?>","                    <div class=\"alert alert-success\">","                        <a href=\"#\" class=\"close\" data-dismiss=\"alert\">&times;</a>","                        <?= $form['errors']['success'] ?>","                    </div>","                    <?php endif ?>",""],"id":36}],[{"start":{"row":7,"column":29},"end":{"row":7,"column":36},"action":"remove","lines":["fa-list"],"id":37},{"start":{"row":7,"column":29},"end":{"row":7,"column":39},"action":"insert","lines":["fa-columns"]}],[{"start":{"row":30,"column":53},"end":{"row":30,"column":67},"action":"remove","lines":["fa-info-circle"],"id":38},{"start":{"row":30,"column":53},"end":{"row":30,"column":63},"action":"insert","lines":["fa-columns"]}],[{"start":{"row":5,"column":31},"end":{"row":6,"column":12},"action":"insert","lines":["","            "],"id":39}],[{"start":{"row":6,"column":12},"end":{"row":8,"column":71},"action":"insert","lines":["            <li><a href=\"/admin\"><i class=\"fa fa-dashboard\"></i> Dashboard</a></li>","            <li><a href=\"/admin/snippet\"><i class=\"fa fa-code\"></i> Snippets</a></li>","            <li class=\"active\"><i class=\"fa fa-pencil\"></i> Create</li>"],"id":40}],[{"start":{"row":7,"column":57},"end":{"row":7,"column":61},"action":"remove","lines":["code"],"id":41},{"start":{"row":7,"column":57},"end":{"row":7,"column":64},"action":"insert","lines":["columns"]}],[{"start":{"row":7,"column":71},"end":{"row":7,"column":79},"action":"remove","lines":["Snippets"],"id":42},{"start":{"row":7,"column":71},"end":{"row":7,"column":79},"action":"insert","lines":["Template"]}],[{"start":{"row":9,"column":0},"end":{"row":11,"column":71},"action":"remove","lines":["            <li><i class=\"fa fa-dashboard\"></i> Dashboard</li>","            <li><i class=\"fa fa-columns\"></i> Template</li>","            <li class=\"active\"><i class=\"fa fa-pencil\"></i> Create</li>"],"id":43}],[{"start":{"row":8,"column":71},"end":{"row":9,"column":0},"action":"remove","lines":["",""],"id":44}],[{"start":{"row":6,"column":20},"end":{"row":6,"column":24},"action":"remove","lines":["    "],"id":45}],[{"start":{"row":6,"column":16},"end":{"row":6,"column":20},"action":"remove","lines":["    "],"id":46}],[{"start":{"row":6,"column":12},"end":{"row":6,"column":16},"action":"remove","lines":["    "],"id":47}],[{"start":{"row":7,"column":32},"end":{"row":7,"column":39},"action":"remove","lines":["snippet"],"id":48},{"start":{"row":7,"column":32},"end":{"row":7,"column":40},"action":"insert","lines":["Template"]}],[{"start":{"row":7,"column":32},"end":{"row":7,"column":33},"action":"remove","lines":["T"],"id":49}],[{"start":{"row":7,"column":32},"end":{"row":7,"column":33},"action":"insert","lines":["t"],"id":50}],[{"start":{"row":86,"column":0},"end":{"row":88,"column":123},"action":"remove","lines":["","            //console.log('sorry <script> tags wont work on live preview.');","            //$('#page-preview').html($('<div/>').html(editorSession.getValue()).find('script').remove().end().contents());"],"id":51}],[{"start":{"row":85,"column":51},"end":{"row":86,"column":0},"action":"remove","lines":["",""],"id":52}],[{"start":{"row":87,"column":8},"end":{"row":111,"column":0},"action":"remove","lines":["//$('#page-preview').html($('<div/>').html(editorSession.getValue()).find('script').remove().end().contents());","","        ","        //     $(document).on('click', '.add-row', function(e) {","        //                     e.preventDefault();","","        //                     var controlForm = $('#fields:first'),","        //                         currentEntry = $(this).parents('.entry:first'),","        //                         newEntry = $(currentEntry.clone()).appendTo(controlForm);","","        //                     newEntry.find('input').val('');","","        //                     controlForm.find('.entry:not(:last) .add-row')","        //                         .removeClass('add-row').addClass('btn-remove')","        //                         .removeClass('btn-success').addClass('btn-danger')","        //                         .html('<i class=\"fa fa-times\"></i>')","        //                         .closest('.input-group').css('paddingBottom', '10px');","","        //                 }).on('click', '.btn-remove', function(e) {","        //                     e.preventDefault();","        //                     $(this).parents('.entry:first').remove();","        //                     return false;","        //                 });","",""],"id":53}],[{"start":{"row":8,"column":47},"end":{"row":8,"column":53},"action":"remove","lines":["pencil"],"id":54},{"start":{"row":8,"column":47},"end":{"row":8,"column":51},"action":"insert","lines":["plus"]}],[{"start":{"row":37,"column":80},"end":{"row":37,"column":85},"action":"remove","lines":["Title"],"id":55},{"start":{"row":37,"column":80},"end":{"row":37,"column":84},"action":"insert","lines":["name"]}],[{"start":{"row":37,"column":80},"end":{"row":37,"column":81},"action":"remove","lines":["n"],"id":56},{"start":{"row":37,"column":80},"end":{"row":37,"column":81},"action":"insert","lines":["N"]}],[{"start":{"row":36,"column":71},"end":{"row":36,"column":76},"action":"remove","lines":["title"],"id":57},{"start":{"row":36,"column":71},"end":{"row":36,"column":75},"action":"insert","lines":["name"]}],[{"start":{"row":37,"column":42},"end":{"row":37,"column":47},"action":"remove","lines":["title"],"id":58},{"start":{"row":37,"column":42},"end":{"row":37,"column":46},"action":"insert","lines":["name"]}],[{"start":{"row":40,"column":62},"end":{"row":40,"column":67},"action":"remove","lines":["title"],"id":59},{"start":{"row":40,"column":62},"end":{"row":40,"column":66},"action":"insert","lines":["name"]}],[{"start":{"row":41,"column":62},"end":{"row":41,"column":67},"action":"remove","lines":["title"],"id":60},{"start":{"row":41,"column":62},"end":{"row":41,"column":66},"action":"insert","lines":["name"]}],[{"start":{"row":39,"column":78},"end":{"row":39,"column":83},"action":"remove","lines":["title"],"id":61},{"start":{"row":39,"column":78},"end":{"row":39,"column":82},"action":"insert","lines":["name"]}],[{"start":{"row":39,"column":90},"end":{"row":39,"column":95},"action":"remove","lines":["title"],"id":62},{"start":{"row":39,"column":90},"end":{"row":39,"column":94},"action":"insert","lines":["name"]}],[{"start":{"row":39,"column":132},"end":{"row":39,"column":137},"action":"remove","lines":["title"],"id":63},{"start":{"row":39,"column":132},"end":{"row":39,"column":136},"action":"insert","lines":["name"]}],[{"start":{"row":41,"column":120},"end":{"row":41,"column":125},"action":"remove","lines":["title"],"id":64},{"start":{"row":41,"column":120},"end":{"row":41,"column":124},"action":"insert","lines":["name"]}],[{"start":{"row":39,"column":172},"end":{"row":39,"column":177},"action":"remove","lines":["title"],"id":65},{"start":{"row":39,"column":172},"end":{"row":39,"column":176},"action":"insert","lines":["name"]}],[{"start":{"row":25,"column":0},"end":{"row":66,"column":0},"action":"remove","lines":["","<div class=\"row\">","    <div class=\"col-lg-12\">","        <div class=\"panel panel-default\">","            <div class=\"panel-heading\">","                <h3 class=\"panel-title\"><i class=\"fa fa-columns fa-fw\"></i> Create Template</h3>","            </div>","            <div class=\"panel-body\">","                <form class=\"form-horizontal\" method=\"post\">","                    <input type=\"hidden\" name=\"csrf\" value=\"<?= $csrf ?>\">","","                    <div class=\"form-group<?= (!empty($form['errors']['name']) ? ' has-error has-feedback' : '') ?>\">","                        <label for=\"input-name\" class=\"control-label col-xs-2\">Name</label>","                        <div class=\"col-xs-8\">","                            <input type=\"text\" class=\"form-control\" id=\"input-name\" name=\"name\" value=\"<?= (!empty($form['values']['name']) ? htmlentities($form['values']['name']) : '') ?>\" placeholder=\"title...\">","                            <?php if (!empty($form['errors']['name'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                            <?php if (!empty($form['errors']['name'])): ?><span class=\"help-block\"><?= $form['errors']['name'] ?></span><?php endif ?>","                        </div>","                    </div>","","                    <div class=\"form-group<?= (!empty($form['errors']['source']) ? ' has-error has-feedback' : '') ?>\">","                        <label for=\"input-source\" class=\"control-label col-xs-2\">Source</label>","                        <div class=\"col-xs-8\">","                            <textarea class=\"form-control form-textarea\" rows=\"10\" id=\"input-source\" name=\"source\"><?= (!empty($form['values']['source']) ? $form['values']['source'] : '') ?></textarea>","                            <div id=\"source\" style=\"position: relative;height: 380px;width: 100%\"></div>","","                            <?php if (!empty($form['errors']['source'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                            <?php if (!empty($form['errors']['source'])): ?><span class=\"help-block\"><?= $form['errors']['source'] ?></span><?php endif ?>","                        </div>","                    </div>","","                    <div class=\"form-group\">","                        <div class=\"col-xs-offset-2 col-xs-10\">","                            <button type=\"submit\" class=\"btn btn-primary\">Save</button>","                        </div>","                    </div>","                </form>","            </div>","        </div>","    </div>","</div>",""],"id":66},{"start":{"row":25,"column":0},"end":{"row":127,"column":0},"action":"insert","lines":["","<form class=\"form-horizontal\" method=\"post\">","    <input type=\"hidden\" name=\"csrf\" value=\"<?= $csrf ?>\">","    <div class=\"row\">","        <div class=\"col-lg-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-columns fa-fw\"></i> Template Details</h3>","                </div>","                <div class=\"panel-body nopadding\">","                    <table class=\"table table-condensed form-table\">","                        <tbody>","                            <tr class=\"form-group<?= (!empty($form['errors']['name']) ? ' has-error has-feedback' : '') ?>\">","                                <td class=\"text-right col-md-2\"><label for=\"input-name\" class=\"control-label\">Name</label></td>","                                <td>","                                    <div class=\"input-group col-xs-10\">","                                        <input type=\"text\" class=\"form-control\" id=\"input-name\" name=\"name\" value=\"<?= (!empty($form['values']['name']) ? htmlentities($form['values']['name']) : '') ?>\" placeholder=\"Enter template name... e.g: Default\">","                                        <!--<span class=\"input-group-btn\">-->","                                        <!--    <button class=\"btn btn-success add-row\" type=\"button\"><i class=\"fa fa-plus\"></i></button>-->","                                        <!--</span>-->","                                    </div>","                                    <?php if (!empty($form['errors']['name'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                                    <?php if (!empty($form['errors']['name'])): ?><span class=\"help-block\"><?= $form['errors']['name'] ?></span><?php endif ?>","                                </td>","                            </tr>","                        </tbody>","                        <tfoot>","                            <tr class=\"form-group\">","                                <td class=\"text-right\"></td>","                                <td>","                                    <div class=\"input-group col-xs-10\">","                                        <button type=\"submit\" class=\"btn btn-primary\">Save</button>","                                    </div>","                                </td>","                            </tr>","                        </tfoot>","                    </table>","                </div>","            </div>","        </div>","    </div>","","    <div class=\"row\">","        <div class=\"col-lg-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-eye fa-fw\"></i> Preview</h3>","                </div>","                <div class=\"panel-body\">","                    <img src=\"/admin/template/preview/<?= $f3->get('PARAMS.sub_action_id') ?>\" alt=\"\" class=\"img-responsive\" style=\"margin: 0 auto;\">","                </div>","            </div>","        </div>","    </div>","","    <div class=\"row\">","        <div class=\"col-xs-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-files-o\" aria-hidden=\"true\"></i> Files</h3>","","                    <div class=\"panel-buttons text-right\" style=\"height:22px\">","                        <div class=\"btn-group-xs\">","                            <a href=\"#\" role=\"button\" class=\"btn btn-link btn-xs label-btn hidden\" id=\"file-saved\" aria-disabled=\"true\"><span class=\"text-success\">File saved!</span></a>","                            <button type=\"button\" class=\"btn btn-success save-file\" data-file=\"template.php\"><i class=\"fa fa-floppy-o\" aria-hidden=\"true\"></i> Save</button>","                        </div>","                    </div>","                </div>","                <div class=\"panel-body nopadding\">","","                    <div class=\"col-xs-12 col-sm-4 col-md-4 col-lg-2 nopadding\">","","                        <div class=\"row\" style=\"padding:5px;background:#f5f5f5;margin-left:0px;margin-right:0px\">","                            <div class=\"col-xs-12 col-sm-3\">","                                <button style=\"margin-left:-15px\" type=\"button\" class=\"btn btn-xs btn-danger remove-file hidden\"><i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete File</button>","                            </div>","","                            <div class=\"col-xs-12 col-sm-9 text-right\">","                                <form class=\"form-inline\" style=\"margin-right:-15px\">","                                    <div class=\"input-group\">","                                        <input type=\"text\" class=\"form-control input-xs\" id=\"new-file-name\" value=\"\" placeholder=\"Enter filename and extension&hellip;\" >","                                        <span class=\"input-group-btn\">","                                            <button type=\"button\" class=\"btn btn-xs btn-success new-file\"><i class=\"fa fa-file\" aria-hidden=\"true\"></i> New File</button>","                                        </span>","                                    </div>","                                </form>","                            </div>","                        </div>","","                        <div id=\"fileList\" style=\"width:100%\"></div>","","                        <form action=\"/admin/template/upload-file/<?= $f3->get('PARAMS.sub_action_id') ?>\" class=\"dropzone\" role=\"form\"></form>","                    </div>","                    <div class=\"col-xs-12 col-sm-8 col-md-8 col-lg-10 nopadding\">","                        <textarea class=\"form-control form-textarea\" rows=\"10\" id=\"input-source\" name=\"source\"><?= (!empty($form['values']['source']) ? $form['values']['source'] : '') ?></textarea>","                        <div id=\"source\" style=\"position: relative;min-height: 800px;width: 100%\"></div>","                    </div>","                </div>","            </div>","        </div>","    </div>","</form> ",""]}],[{"start":{"row":79,"column":0},"end":{"row":125,"column":10},"action":"remove","lines":["","    <div class=\"row\">","        <div class=\"col-xs-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-files-o\" aria-hidden=\"true\"></i> Files</h3>","","                    <div class=\"panel-buttons text-right\" style=\"height:22px\">","                        <div class=\"btn-group-xs\">","                            <a href=\"#\" role=\"button\" class=\"btn btn-link btn-xs label-btn hidden\" id=\"file-saved\" aria-disabled=\"true\"><span class=\"text-success\">File saved!</span></a>","                            <button type=\"button\" class=\"btn btn-success save-file\" data-file=\"template.php\"><i class=\"fa fa-floppy-o\" aria-hidden=\"true\"></i> Save</button>","                        </div>","                    </div>","                </div>","                <div class=\"panel-body nopadding\">","","                    <div class=\"col-xs-12 col-sm-4 col-md-4 col-lg-2 nopadding\">","","                        <div class=\"row\" style=\"padding:5px;background:#f5f5f5;margin-left:0px;margin-right:0px\">","                            <div class=\"col-xs-12 col-sm-3\">","                                <button style=\"margin-left:-15px\" type=\"button\" class=\"btn btn-xs btn-danger remove-file hidden\"><i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete File</button>","                            </div>","","                            <div class=\"col-xs-12 col-sm-9 text-right\">","                                <form class=\"form-inline\" style=\"margin-right:-15px\">","                                    <div class=\"input-group\">","                                        <input type=\"text\" class=\"form-control input-xs\" id=\"new-file-name\" value=\"\" placeholder=\"Enter filename and extension&hellip;\" >","                                        <span class=\"input-group-btn\">","                                            <button type=\"button\" class=\"btn btn-xs btn-success new-file\"><i class=\"fa fa-file\" aria-hidden=\"true\"></i> New File</button>","                                        </span>","                                    </div>","                                </form>","                            </div>","                        </div>","","                        <div id=\"fileList\" style=\"width:100%\"></div>","","                        <form action=\"/admin/template/upload-file/<?= $f3->get('PARAMS.sub_action_id') ?>\" class=\"dropzone\" role=\"form\"></form>","                    </div>","                    <div class=\"col-xs-12 col-sm-8 col-md-8 col-lg-10 nopadding\">","                        <textarea class=\"form-control form-textarea\" rows=\"10\" id=\"input-source\" name=\"source\"><?= (!empty($form['values']['source']) ? $form['values']['source'] : '') ?></textarea>","                        <div id=\"source\" style=\"position: relative;min-height: 800px;width: 100%\"></div>","                    </div>","                </div>","            </div>","        </div>","    </div>"],"id":67}],[{"start":{"row":78,"column":10},"end":{"row":79,"column":0},"action":"remove","lines":["",""],"id":68}],[{"start":{"row":66,"column":0},"end":{"row":78,"column":10},"action":"remove","lines":["","    <div class=\"row\">","        <div class=\"col-lg-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-eye fa-fw\"></i> Preview</h3>","                </div>","                <div class=\"panel-body\">","                    <img src=\"/admin/template/preview/<?= $f3->get('PARAMS.sub_action_id') ?>\" alt=\"\" class=\"img-responsive\" style=\"margin: 0 auto;\">","                </div>","            </div>","        </div>","    </div>"],"id":69}],[{"start":{"row":65,"column":10},"end":{"row":66,"column":0},"action":"remove","lines":["",""],"id":70}],[{"start":{"row":42,"column":0},"end":{"row":44,"column":54},"action":"remove","lines":["                                        <!--<span class=\"input-group-btn\">-->","                                        <!--    <button class=\"btn btn-success add-row\" type=\"button\"><i class=\"fa fa-plus\"></i></button>-->","                                        <!--</span>-->"],"id":71}],[{"start":{"row":41,"column":252},"end":{"row":42,"column":0},"action":"remove","lines":["",""],"id":72}],[{"start":{"row":26,"column":0},"end":{"row":63,"column":7},"action":"remove","lines":["<form class=\"form-horizontal\" method=\"post\">","    <input type=\"hidden\" name=\"csrf\" value=\"<?= $csrf ?>\">","    <div class=\"row\">","        <div class=\"col-lg-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-columns fa-fw\"></i> Template Details</h3>","                </div>","                <div class=\"panel-body nopadding\">","                    <table class=\"table table-condensed form-table\">","                        <tbody>","                            <tr class=\"form-group<?= (!empty($form['errors']['name']) ? ' has-error has-feedback' : '') ?>\">","                                <td class=\"text-right col-md-2\"><label for=\"input-name\" class=\"control-label\">Name</label></td>","                                <td>","                                    <div class=\"input-group col-xs-10\">","                                        <input type=\"text\" class=\"form-control\" id=\"input-name\" name=\"name\" value=\"<?= (!empty($form['values']['name']) ? htmlentities($form['values']['name']) : '') ?>\" placeholder=\"Enter template name... e.g: Default\">","                                    </div>","                                    <?php if (!empty($form['errors']['name'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                                    <?php if (!empty($form['errors']['name'])): ?><span class=\"help-block\"><?= $form['errors']['name'] ?></span><?php endif ?>","                                </td>","                            </tr>","                        </tbody>","                        <tfoot>","                            <tr class=\"form-group\">","                                <td class=\"text-right\"></td>","                                <td>","                                    <div class=\"input-group col-xs-10\">","                                        <button type=\"submit\" class=\"btn btn-primary\">Save</button>","                                    </div>","                                </td>","                            </tr>","                        </tfoot>","                    </table>","                </div>","            </div>","        </div>","    </div>","</form>"],"id":73},{"start":{"row":26,"column":0},"end":{"row":126,"column":8},"action":"insert","lines":["<form class=\"form-horizontal\" method=\"post\">","    <input type=\"hidden\" name=\"csrf\" value=\"<?= $csrf ?>\">","    <div class=\"row\">","        <div class=\"col-lg-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-columns fa-fw\"></i> Template Details</h3>","                </div>","                <div class=\"panel-body nopadding\">","                    <table class=\"table table-condensed form-table\">","                        <tbody>","                            <tr class=\"form-group<?= (!empty($form['errors']['name']) ? ' has-error has-feedback' : '') ?>\">","                                <td class=\"text-right col-md-2\"><label for=\"input-name\" class=\"control-label\">Name</label></td>","                                <td>","                                    <div class=\"input-group col-xs-10\">","                                        <input type=\"text\" class=\"form-control\" id=\"input-name\" name=\"name\" value=\"<?= (!empty($form['values']['name']) ? htmlentities($form['values']['name']) : '') ?>\" placeholder=\"Enter template name... e.g: Default\">","                                        <!--<span class=\"input-group-btn\">-->","                                        <!--    <button class=\"btn btn-success add-row\" type=\"button\"><i class=\"fa fa-plus\"></i></button>-->","                                        <!--</span>-->","                                    </div>","                                    <?php if (!empty($form['errors']['name'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                                    <?php if (!empty($form['errors']['name'])): ?><span class=\"help-block\"><?= $form['errors']['name'] ?></span><?php endif ?>","                                </td>","                            </tr>","                        </tbody>","                        <tfoot>","                            <tr class=\"form-group\">","                                <td class=\"text-right\"></td>","                                <td>","                                    <div class=\"input-group col-xs-10\">","                                        <button type=\"submit\" class=\"btn btn-primary\">Save</button>","                                    </div>","                                </td>","                            </tr>","                        </tfoot>","                    </table>","                </div>","            </div>","        </div>","    </div>","","    <div class=\"row\">","        <div class=\"col-lg-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-eye fa-fw\"></i> Preview</h3>","                </div>","                <div class=\"panel-body\">","                    <img src=\"/admin/template/preview/<?= $f3->get('PARAMS.sub_action_id') ?>\" alt=\"\" class=\"img-responsive\" style=\"margin: 0 auto;\">","                </div>","            </div>","        </div>","    </div>","","    <div class=\"row\">","        <div class=\"col-xs-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-files-o\" aria-hidden=\"true\"></i> Files</h3>","","                    <div class=\"panel-buttons text-right\" style=\"height:22px\">","                        <div class=\"btn-group-xs\">","                            <a href=\"#\" role=\"button\" class=\"btn btn-link btn-xs label-btn hidden\" id=\"file-saved\" aria-disabled=\"true\"><span class=\"text-success\">File saved!</span></a>","                            <button type=\"button\" class=\"btn btn-success save-file\" data-file=\"template.php\"><i class=\"fa fa-floppy-o\" aria-hidden=\"true\"></i> Save</button>","                        </div>","                    </div>","                </div>","                <div class=\"panel-body nopadding\">","","                    <div class=\"col-xs-12 col-sm-4 col-md-4 col-lg-2 nopadding\">","","                        <div class=\"row\" style=\"padding:5px;background:#f5f5f5;margin-left:0px;margin-right:0px\">","                            <div class=\"col-xs-12 col-sm-3\">","                                <button style=\"margin-left:-15px\" type=\"button\" class=\"btn btn-xs btn-danger remove-file hidden\"><i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete File</button>","                            </div>","","                            <div class=\"col-xs-12 col-sm-9 text-right\">","                                <form class=\"form-inline\" style=\"margin-right:-15px\">","                                    <div class=\"input-group\">","                                        <input type=\"text\" class=\"form-control input-xs\" id=\"new-file-name\" value=\"\" placeholder=\"Enter filename and extension&hellip;\" >","                                        <span class=\"input-group-btn\">","                                            <button type=\"button\" class=\"btn btn-xs btn-success new-file\"><i class=\"fa fa-file\" aria-hidden=\"true\"></i> New File</button>","                                        </span>","                                    </div>","                                </form>","                            </div>","                        </div>","","                        <div id=\"fileList\" style=\"width:100%\"></div>","","                        <form action=\"/admin/template/upload-file/<?= $f3->get('PARAMS.sub_action_id') ?>\" class=\"dropzone\" role=\"form\"></form>","                    </div>","                    <div class=\"col-xs-12 col-sm-8 col-md-8 col-lg-10 nopadding\">","                        <textarea class=\"form-control form-textarea\" rows=\"10\" id=\"input-source\" name=\"source\"><?= (!empty($form['values']['source']) ? $form['values']['source'] : '') ?></textarea>","                        <div id=\"source\" style=\"position: relative;min-height: 800px;width: 100%\"></div>","                    </div>","                </div>","            </div>","        </div>","    </div>","</form> "]}],[{"start":{"row":66,"column":0},"end":{"row":78,"column":10},"action":"remove","lines":["","    <div class=\"row\">","        <div class=\"col-lg-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-eye fa-fw\"></i> Preview</h3>","                </div>","                <div class=\"panel-body\">","                    <img src=\"/admin/template/preview/<?= $f3->get('PARAMS.sub_action_id') ?>\" alt=\"\" class=\"img-responsive\" style=\"margin: 0 auto;\">","                </div>","            </div>","        </div>","    </div>"],"id":74}],[{"start":{"row":66,"column":0},"end":{"row":67,"column":0},"action":"remove","lines":["",""],"id":75}],[{"start":{"row":71,"column":93},"end":{"row":71,"column":98},"action":"remove","lines":["Files"],"id":76},{"start":{"row":71,"column":93},"end":{"row":71,"column":94},"action":"insert","lines":["C"]}],[{"start":{"row":71,"column":94},"end":{"row":71,"column":95},"action":"insert","lines":["o"],"id":77}],[{"start":{"row":71,"column":95},"end":{"row":71,"column":96},"action":"insert","lines":["d"],"id":78}],[{"start":{"row":71,"column":96},"end":{"row":71,"column":97},"action":"insert","lines":["e"],"id":79}],[{"start":{"row":71,"column":60},"end":{"row":71,"column":67},"action":"remove","lines":["files-o"],"id":80},{"start":{"row":71,"column":60},"end":{"row":71,"column":61},"action":"insert","lines":["c"]}],[{"start":{"row":71,"column":61},"end":{"row":71,"column":62},"action":"insert","lines":["o"],"id":81}],[{"start":{"row":71,"column":62},"end":{"row":71,"column":63},"action":"insert","lines":["d"],"id":82}],[{"start":{"row":71,"column":63},"end":{"row":71,"column":64},"action":"insert","lines":["e"],"id":83}],[{"start":{"row":71,"column":64},"end":{"row":71,"column":65},"action":"insert","lines":[" "],"id":84}],[{"start":{"row":71,"column":65},"end":{"row":71,"column":66},"action":"insert","lines":["f"],"id":85}],[{"start":{"row":71,"column":66},"end":{"row":71,"column":67},"action":"insert","lines":["a"],"id":86}],[{"start":{"row":71,"column":67},"end":{"row":71,"column":68},"action":"insert","lines":["="],"id":87}],[{"start":{"row":71,"column":67},"end":{"row":71,"column":68},"action":"remove","lines":["="],"id":88}],[{"start":{"row":71,"column":66},"end":{"row":71,"column":67},"action":"remove","lines":["a"],"id":89}],[{"start":{"row":71,"column":65},"end":{"row":71,"column":66},"action":"remove","lines":["f"],"id":90}],[{"start":{"row":71,"column":64},"end":{"row":71,"column":65},"action":"remove","lines":[" "],"id":91}],[{"start":{"row":72,"column":0},"end":{"row":78,"column":26},"action":"remove","lines":["","                    <div class=\"panel-buttons text-right\" style=\"height:22px\">","                        <div class=\"btn-group-xs\">","                            <a href=\"#\" role=\"button\" class=\"btn btn-link btn-xs label-btn hidden\" id=\"file-saved\" aria-disabled=\"true\"><span class=\"text-success\">File saved!</span></a>","                            <button type=\"button\" class=\"btn btn-success save-file\" data-file=\"template.php\"><i class=\"fa fa-floppy-o\" aria-hidden=\"true\"></i> Save</button>","                        </div>","                    </div>"],"id":92}],[{"start":{"row":71,"column":99},"end":{"row":72,"column":0},"action":"remove","lines":["",""],"id":93}],[{"start":{"row":74,"column":0},"end":{"row":98,"column":81},"action":"remove","lines":["","                    <div class=\"col-xs-12 col-sm-4 col-md-4 col-lg-2 nopadding\">","","                        <div class=\"row\" style=\"padding:5px;background:#f5f5f5;margin-left:0px;margin-right:0px\">","                            <div class=\"col-xs-12 col-sm-3\">","                                <button style=\"margin-left:-15px\" type=\"button\" class=\"btn btn-xs btn-danger remove-file hidden\"><i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete File</button>","                            </div>","","                            <div class=\"col-xs-12 col-sm-9 text-right\">","                                <form class=\"form-inline\" style=\"margin-right:-15px\">","                                    <div class=\"input-group\">","                                        <input type=\"text\" class=\"form-control input-xs\" id=\"new-file-name\" value=\"\" placeholder=\"Enter filename and extension&hellip;\" >","                                        <span class=\"input-group-btn\">","                                            <button type=\"button\" class=\"btn btn-xs btn-success new-file\"><i class=\"fa fa-file\" aria-hidden=\"true\"></i> New File</button>","                                        </span>","                                    </div>","                                </form>","                            </div>","                        </div>","","                        <div id=\"fileList\" style=\"width:100%\"></div>","","                        <form action=\"/admin/template/upload-file/<?= $f3->get('PARAMS.sub_action_id') ?>\" class=\"dropzone\" role=\"form\"></form>","                    </div>","                    <div class=\"col-xs-12 col-sm-8 col-md-8 col-lg-10 nopadding\">"],"id":94}],[{"start":{"row":77,"column":12},"end":{"row":77,"column":26},"action":"remove","lines":["        </div>"],"id":95}],[{"start":{"row":77,"column":0},"end":{"row":77,"column":12},"action":"remove","lines":["            "],"id":96}],[{"start":{"row":76,"column":104},"end":{"row":77,"column":0},"action":"remove","lines":["",""],"id":97}],[{"start":{"row":75,"column":20},"end":{"row":75,"column":24},"action":"remove","lines":["    "],"id":98}],[{"start":{"row":73,"column":50},"end":{"row":74,"column":0},"action":"remove","lines":["",""],"id":99}],[{"start":{"row":75,"column":20},"end":{"row":75,"column":24},"action":"remove","lines":["    "],"id":100}],[{"start":{"row":3,"column":12},"end":{"row":3,"column":17},"action":"remove","lines":["Admin"],"id":101},{"start":{"row":3,"column":12},"end":{"row":3,"column":20},"action":"insert","lines":["Template"]}],[{"start":{"row":3,"column":31},"end":{"row":3,"column":41},"action":"remove","lines":["Template -"],"id":102}],[{"start":{"row":3,"column":30},"end":{"row":3,"column":31},"action":"remove","lines":[" "],"id":103}],[{"start":{"row":3,"column":20},"end":{"row":3,"column":21},"action":"insert","lines":["s"],"id":104}],[{"start":{"row":7,"column":72},"end":{"row":7,"column":80},"action":"remove","lines":["Template"],"id":105},{"start":{"row":7,"column":72},"end":{"row":7,"column":81},"action":"insert","lines":["Templates"]}],[{"start":{"row":3,"column":32},"end":{"row":3,"column":34},"action":"remove","lines":["Cr"],"id":106},{"start":{"row":3,"column":32},"end":{"row":3,"column":33},"action":"insert","lines":["N"]},{"start":{"row":3,"column":34},"end":{"row":3,"column":37},"action":"remove","lines":["ate"]},{"start":{"row":3,"column":34},"end":{"row":3,"column":35},"action":"insert","lines":["w"]}],[{"start":{"row":8,"column":58},"end":{"row":8,"column":60},"action":"remove","lines":["Cr"],"id":107},{"start":{"row":8,"column":58},"end":{"row":8,"column":59},"action":"insert","lines":["N"]},{"start":{"row":8,"column":60},"end":{"row":8,"column":63},"action":"remove","lines":["ate"]},{"start":{"row":8,"column":60},"end":{"row":8,"column":61},"action":"insert","lines":["w"]}],[{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"remove","lines":["    "],"id":108}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":8},"action":"remove","lines":["    "],"id":109}],[{"start":{"row":22,"column":4},"end":{"row":22,"column":8},"action":"remove","lines":["    "],"id":110}],[{"start":{"row":23,"column":0},"end":{"row":23,"column":4},"action":"remove","lines":["    "],"id":111}],[{"start":{"row":42,"column":0},"end":{"row":44,"column":54},"action":"remove","lines":["                                        <!--<span class=\"input-group-btn\">-->","                                        <!--    <button class=\"btn btn-success add-row\" type=\"button\"><i class=\"fa fa-plus\"></i></button>-->","                                        <!--</span>-->"],"id":112}],[{"start":{"row":41,"column":252},"end":{"row":42,"column":0},"action":"remove","lines":["",""],"id":113}],[{"start":{"row":62,"column":10},"end":{"row":63,"column":0},"action":"remove","lines":["",""],"id":114}],[{"start":{"row":71,"column":44},"end":{"row":71,"column":92},"action":"remove","lines":["position: relative;min-height: 800px;width: 100%"],"id":115},{"start":{"row":71,"column":44},"end":{"row":71,"column":92},"action":"insert","lines":["position: relative;min-height: 750px;width: 100%"]}],[{"start":{"row":71,"column":74},"end":{"row":71,"column":75},"action":"remove","lines":[" "],"id":116}],[{"start":{"row":71,"column":86},"end":{"row":71,"column":87},"action":"remove","lines":[" "],"id":117}],[{"start":{"row":71,"column":53},"end":{"row":71,"column":54},"action":"remove","lines":[" "],"id":118}],[{"start":{"row":97,"column":11},"end":{"row":98,"column":0},"action":"insert","lines":["",""],"id":119},{"start":{"row":98,"column":0},"end":{"row":98,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":98,"column":8},"end":{"row":99,"column":0},"action":"insert","lines":["",""],"id":120},{"start":{"row":99,"column":0},"end":{"row":99,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":99,"column":8},"end":{"row":108,"column":11},"action":"insert","lines":["        $(window).bind('keydown', function(event) {","            if (event.ctrlKey || event.metaKey) {","                switch (String.fromCharCode(event.which).toLowerCase()) {","                    case 's':","                        event.preventDefault();","                        $('[type=\"submit\"]').trigger('click');","                    break;","                }","            }","        });"],"id":121}],[{"start":{"row":99,"column":12},"end":{"row":99,"column":16},"action":"remove","lines":["    "],"id":122}],[{"start":{"row":99,"column":8},"end":{"row":99,"column":12},"action":"remove","lines":["    "],"id":123}],[{"start":{"row":2,"column":32},"end":{"row":2,"column":35},"action":"insert","lines":["-->"],"id":124},{"start":{"row":2,"column":8},"end":{"row":2,"column":12},"action":"insert","lines":["<!--"]},{"start":{"row":3,"column":43},"end":{"row":3,"column":46},"action":"insert","lines":["-->"]},{"start":{"row":3,"column":8},"end":{"row":3,"column":12},"action":"insert","lines":["<!--"]},{"start":{"row":4,"column":13},"end":{"row":4,"column":16},"action":"insert","lines":["-->"]},{"start":{"row":4,"column":8},"end":{"row":4,"column":12},"action":"insert","lines":["<!--"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":2,"column":0},"end":{"row":4,"column":20},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":3755,"mode":"ace/mode/php"}},"timestamp":1502989544808,"hash":"47d6dae612348584db4c3cbc3f67c5eb586eec98"}