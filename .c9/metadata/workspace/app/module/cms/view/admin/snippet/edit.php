{"filter":false,"title":"edit.php","tooltip":"/app/module/cms/view/admin/snippet/edit.php","undoManager":{"mark":47,"position":47,"stack":[[{"start":{"row":3,"column":28},"end":{"row":3,"column":36},"action":"remove","lines":["Template"],"id":2},{"start":{"row":3,"column":28},"end":{"row":3,"column":35},"action":"insert","lines":["snippet"]}],[{"start":{"row":3,"column":28},"end":{"row":3,"column":29},"action":"remove","lines":["s"],"id":3},{"start":{"row":3,"column":28},"end":{"row":3,"column":29},"action":"insert","lines":["S"]}],[{"start":{"row":3,"column":35},"end":{"row":3,"column":36},"action":"insert","lines":["s"],"id":4}],[{"start":{"row":7,"column":43},"end":{"row":7,"column":51},"action":"remove","lines":["Template"],"id":5},{"start":{"row":7,"column":43},"end":{"row":7,"column":51},"action":"insert","lines":["Snippets"]}],[{"start":{"row":17,"column":85},"end":{"row":17,"column":93},"action":"remove","lines":["Template"],"id":6},{"start":{"row":17,"column":85},"end":{"row":17,"column":93},"action":"insert","lines":["Snippets"]}],[{"start":{"row":17,"column":92},"end":{"row":17,"column":93},"action":"remove","lines":["s"],"id":7}],[{"start":{"row":43,"column":26},"end":{"row":44,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":44,"column":0},"end":{"row":44,"column":20},"action":"insert","lines":["                    "]}],[{"start":{"row":44,"column":20},"end":{"row":45,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":45,"column":0},"end":{"row":45,"column":20},"action":"insert","lines":["                    "]}],[{"start":{"row":45,"column":20},"end":{"row":58,"column":26},"action":"insert","lines":["","                    <div class=\"form-group<?= (!empty($form['errors']['type']) ? ' has-error has-feedback' : '') ?>\">","                        <label for=\"input-type\" class=\"control-label col-xs-2\">Type</label>","                        <div class=\"col-xs-8\">","                            <select class=\"form-control\" id=\"input-type\" name=\"type\">","                                <option value=\"beforeload\"<?= ($form['values']['type'] == 'beforeload' ? ' selected' : '') ?>>Before Load</option>","                                <option value=\"body\"<?= ($form['values']['type'] == 'body' ? ' selected' : '') ?>>Body</option>","                                <option value=\"javascript\"<?= ($form['values']['type'] == 'javascript' ? ' selected' : '') ?>>Javascript</option>","                                <option value=\"css\"<?= ($form['values']['type'] == 'css' ? ' selected' : '') ?>>CSS</option>","                            </select>","                            <?php if (!empty($form['errors']['type'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                            <?php if (!empty($form['errors']['type'])): ?><span class=\"help-block\"><?= $form['errors']['type'] ?></span><?php endif ?>","                        </div>","                    </div>"],"id":10}],[{"start":{"row":44,"column":0},"end":{"row":45,"column":20},"action":"remove","lines":["                    ","                    "],"id":11}],[{"start":{"row":11,"column":6},"end":{"row":12,"column":0},"action":"insert","lines":["",""],"id":12}],[{"start":{"row":12,"column":0},"end":{"row":13,"column":0},"action":"insert","lines":["",""],"id":13}],[{"start":{"row":13,"column":0},"end":{"row":24,"column":14},"action":"insert","lines":["<?php if (!empty($form['errors']['global'])): ?>","<div class=\"alert alert-danger\">","    <a href=\"#\" class=\"close\" data-dismiss=\"alert\">&times;</a>","    <?= $form['errors']['global'] ?>","</div>","<?php endif ?>","<?php if (!empty($form['errors']['success'])): ?>","<div class=\"alert alert-success\">","    <a href=\"#\" class=\"close\" data-dismiss=\"alert\">&times;</a>","    <?= $form['errors']['success'] ?>","</div>","<?php endif ?>"],"id":14}],[{"start":{"row":35,"column":0},"end":{"row":47,"column":34},"action":"remove","lines":["","                    <?php if (!empty($form['errors']['global'])): ?>","                    <div class=\"alert alert-danger\">","                        <a href=\"#\" class=\"close\" data-dismiss=\"alert\">&times;</a>","                        <?= $form['errors']['global'] ?>","                    </div>","                    <?php endif ?>","                    <?php if (!empty($form['errors']['success'])): ?>","                    <div class=\"alert alert-success\">","                        <a href=\"#\" class=\"close\" data-dismiss=\"alert\">&times;</a>","                        <?= $form['errors']['success'] ?>","                    </div>","                    <?php endif ?>"],"id":15}],[{"start":{"row":35,"column":0},"end":{"row":36,"column":0},"action":"remove","lines":["",""],"id":16}],[{"start":{"row":6,"column":0},"end":{"row":8,"column":69},"action":"remove","lines":["            <li><i class=\"fa fa-dashboard\"></i> Dashboard</li>","            <li><i class=\"fa fa-list\"></i> Snippets</li>","            <li class=\"active\"><i class=\"fa fa-pencil\"></i> Edit</li>"],"id":17},{"start":{"row":6,"column":0},"end":{"row":8,"column":71},"action":"insert","lines":["            <li><a href=\"/admin\"><i class=\"fa fa-dashboard\"></i> Dashboard</a></li>","            <li><a href=\"/admin/snippet\"><i class=\"fa fa-code\"></i> Snippet</a></li>","            <li class=\"active\"><i class=\"fa fa-pencil\"></i> Create</li>"]}],[{"start":{"row":8,"column":60},"end":{"row":8,"column":66},"action":"remove","lines":["Create"],"id":18},{"start":{"row":8,"column":60},"end":{"row":8,"column":61},"action":"insert","lines":["E"]}],[{"start":{"row":8,"column":61},"end":{"row":8,"column":62},"action":"insert","lines":["d"],"id":19}],[{"start":{"row":8,"column":62},"end":{"row":8,"column":63},"action":"insert","lines":["i"],"id":20}],[{"start":{"row":8,"column":63},"end":{"row":8,"column":64},"action":"insert","lines":["t"],"id":21}],[{"start":{"row":7,"column":68},"end":{"row":7,"column":75},"action":"remove","lines":["Snippet"],"id":22},{"start":{"row":7,"column":68},"end":{"row":7,"column":76},"action":"insert","lines":["Snippets"]}],[{"start":{"row":30,"column":56},"end":{"row":30,"column":67},"action":"remove","lines":["info-circle"],"id":23},{"start":{"row":30,"column":56},"end":{"row":30,"column":57},"action":"insert","lines":["c"]}],[{"start":{"row":30,"column":57},"end":{"row":30,"column":58},"action":"insert","lines":["o"],"id":24}],[{"start":{"row":30,"column":58},"end":{"row":30,"column":59},"action":"insert","lines":["d"],"id":25}],[{"start":{"row":30,"column":59},"end":{"row":30,"column":60},"action":"insert","lines":["e"],"id":26}],[{"start":{"row":100,"column":0},"end":{"row":102,"column":123},"action":"remove","lines":["","            //console.log('sorry <script> tags wont work on live preview.');","            //$('#page-preview').html($('<div/>').html(editorSession.getValue()).find('script').remove().end().contents());"],"id":27}],[{"start":{"row":99,"column":51},"end":{"row":100,"column":0},"action":"remove","lines":["",""],"id":28}],[{"start":{"row":101,"column":7},"end":{"row":124,"column":0},"action":"remove","lines":[" //$('#page-preview').html($('<div/>').html(editorSession.getValue()).find('script').remove().end().contents());","","        //     $(document).on('click', '.add-row', function(e) {","        //                     e.preventDefault();","","        //                     var controlForm = $('#fields:first'),","        //                         currentEntry = $(this).parents('.entry:first'),","        //                         newEntry = $(currentEntry.clone()).appendTo(controlForm);","","        //                     newEntry.find('input').val('');","","        //                     controlForm.find('.entry:not(:last) .add-row')","        //                         .removeClass('add-row').addClass('btn-remove')","        //                         .removeClass('btn-success').addClass('btn-danger')","        //                         .html('<i class=\"fa fa-times\"></i>')","        //                         .closest('.input-group').css('paddingBottom', '10px');","","        //                 }).on('click', '.btn-remove', function(e) {","        //                     e.preventDefault();","        //                     $(this).parents('.entry:first').remove();","        //                     return false;","        //                 });","",""],"id":29}],[{"start":{"row":101,"column":6},"end":{"row":101,"column":7},"action":"remove","lines":[" "],"id":30}],[{"start":{"row":101,"column":5},"end":{"row":101,"column":6},"action":"remove","lines":[" "],"id":31}],[{"start":{"row":101,"column":4},"end":{"row":101,"column":5},"action":"remove","lines":[" "],"id":32}],[{"start":{"row":101,"column":0},"end":{"row":101,"column":4},"action":"remove","lines":["    "],"id":33}],[{"start":{"row":100,"column":11},"end":{"row":101,"column":0},"action":"remove","lines":["",""],"id":34}],[{"start":{"row":100,"column":11},"end":{"row":101,"column":0},"action":"insert","lines":["",""],"id":35},{"start":{"row":101,"column":0},"end":{"row":101,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":3,"column":12},"end":{"row":3,"column":17},"action":"remove","lines":["Admin"],"id":36},{"start":{"row":3,"column":12},"end":{"row":3,"column":20},"action":"insert","lines":["Snippets"]}],[{"start":{"row":3,"column":31},"end":{"row":3,"column":39},"action":"remove","lines":["Snippets"],"id":37}],[{"start":{"row":3,"column":30},"end":{"row":3,"column":31},"action":"remove","lines":[" "],"id":38}],[{"start":{"row":3,"column":29},"end":{"row":3,"column":30},"action":"remove","lines":["-"],"id":39}],[{"start":{"row":3,"column":28},"end":{"row":3,"column":29},"action":"remove","lines":[" "],"id":40}],[{"start":{"row":25,"column":0},"end":{"row":80,"column":0},"action":"remove","lines":["","<div class=\"row\">","    <div class=\"col-lg-12\">","        <div class=\"panel panel-default\">","            <div class=\"panel-heading\">","                <h3 class=\"panel-title\"><i class=\"fa fa-code fa-fw\"></i> Edit Snippet</h3>","            </div>","            <div class=\"panel-body\">","                <form class=\"form-horizontal\" method=\"post\">","                    <input type=\"hidden\" name=\"csrf\" value=\"<?= $csrf ?>\">","","                    <div class=\"form-group<?= (!empty($form['errors']['title']) ? ' has-error has-feedback' : '') ?>\">","                        <label for=\"input-title\" class=\"control-label col-xs-2\">Title</label>","                        <div class=\"col-xs-8\">","                            <input type=\"text\" class=\"form-control\" id=\"input-title\" name=\"title\" value=\"<?= (!empty($form['values']['title']) ? htmlentities($form['values']['title']) : '') ?>\" placeholder=\"title...\">","                            <?php if (!empty($form['errors']['title'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                            <?php if (!empty($form['errors']['title'])): ?><span class=\"help-block\"><?= $form['errors']['title'] ?></span><?php endif ?>","                        </div>","                    </div>","","                    <div class=\"form-group<?= (!empty($form['errors']['type']) ? ' has-error has-feedback' : '') ?>\">","                        <label for=\"input-type\" class=\"control-label col-xs-2\">Type</label>","                        <div class=\"col-xs-8\">","                            <select class=\"form-control\" id=\"input-type\" name=\"type\">","                                <option value=\"beforeload\"<?= ($form['values']['type'] == 'beforeload' ? ' selected' : '') ?>>Before Load</option>","                                <option value=\"body\"<?= ($form['values']['type'] == 'body' ? ' selected' : '') ?>>Body</option>","                                <option value=\"javascript\"<?= ($form['values']['type'] == 'javascript' ? ' selected' : '') ?>>Javascript</option>","                                <option value=\"css\"<?= ($form['values']['type'] == 'css' ? ' selected' : '') ?>>CSS</option>","                            </select>","                            <?php if (!empty($form['errors']['type'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                            <?php if (!empty($form['errors']['type'])): ?><span class=\"help-block\"><?= $form['errors']['type'] ?></span><?php endif ?>","                        </div>","                    </div>","","                    <div class=\"form-group<?= (!empty($form['errors']['source']) ? ' has-error has-feedback' : '') ?>\">","                        <label for=\"input-source\" class=\"control-label col-xs-2\">Source</label>","                        <div class=\"col-xs-8\">","                            <textarea class=\"form-control form-textarea\" rows=\"10\" id=\"input-source\" name=\"source\"><?= (!empty($form['values']['source']) ? $form['values']['source'] : '') ?></textarea>","                            <div id=\"source\" style=\"position: relative;height: 380px;width: 100%\"></div>","","                            <?php if (!empty($form['errors']['source'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                            <?php if (!empty($form['errors']['source'])): ?><span class=\"help-block\"><?= $form['errors']['source'] ?></span><?php endif ?>","                        </div>","                    </div>","                    ","                    <div class=\"form-group\">","                        <div class=\"col-xs-offset-2 col-xs-10\">","                            <button type=\"submit\" class=\"btn btn-primary\">Save</button>","                        </div>","                    </div>","                </form>","            </div>","        </div>","    </div>","</div>",""],"id":41},{"start":{"row":25,"column":0},"end":{"row":96,"column":0},"action":"insert","lines":["<form class=\"form-horizontal\" method=\"post\">","    <input type=\"hidden\" name=\"csrf\" value=\"<?= $csrf ?>\">","    <div class=\"row\">","        <div class=\"col-lg-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-code fa-fw\"></i> Snippet Details</h3>","                </div>","                <div class=\"panel-body nopadding\">","                    <table class=\"table table-condensed form-table\">","                        <tbody>","                            <tr class=\"form-group<?= (!empty($form['errors']['title']) ? ' has-error has-feedback' : '') ?>\">","                                <td class=\"text-right col-md-2\"><label for=\"input-title\" class=\"control-label\">Title</label></td>","                                <td>","                                    <div class=\"input-group col-xs-10\">","                                        <input type=\"text\" class=\"form-control\" id=\"input-title\" name=\"title\" value=\"<?= (!empty($form['values']['title']) ? htmlentities($form['values']['title']) : '') ?>\" placeholder=\"Enter title... e.g: Blog\">","                                        <!--<span class=\"input-group-btn\">-->","                                        <!--    <button class=\"btn btn-success add-row\" type=\"button\"><i class=\"fa fa-plus\"></i></button>-->","                                        <!--</span>-->","                                    </div>","                                    <?php if (!empty($form['errors']['title'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                                    <?php if (!empty($form['errors']['title'])): ?><span class=\"help-block\"><?= $form['errors']['title'] ?></span><?php endif ?>","                                </td>","                            </tr>","                            <tr class=\"form-group<?= (!empty($form['errors']['type']) ? ' has-error has-feedback' : '') ?>\">","                                <td class=\"text-right\"><label for=\"input-type\" class=\"control-label\">Type</label></td>","                                <td>","                                    <div class=\"input-group col-xs-10\">","                                        <select class=\"form-control\" id=\"input-type\" name=\"type\">","                                            <option value=\"beforeload\"<?= ($form['values']['type'] == 'beforeload' ? ' selected' : '') ?>>Before Load</option>","                                            <option value=\"body\"<?= ($form['values']['type'] == 'body' ? ' selected' : '') ?>>Body</option>","                                            <option value=\"javascript\"<?= ($form['values']['type'] == 'javascript' ? ' selected' : '') ?>>Javascript</option>","                                            <option value=\"css\"<?= ($form['values']['type'] == 'css' ? ' selected' : '') ?>>CSS</option>","                                        </select>","                                    </div>","                                    <?php if (!empty($form['errors']['type'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                                    <?php if (!empty($form['errors']['type'])): ?><span class=\"help-block\"><?= $form['errors']['type'] ?></span><?php endif ?>","                                </td>","                            </tr>","                        </tbody>","                        <tfoot>","                            <tr class=\"form-group\">","                                <td class=\"text-right\"></td>","                                <td>","                                    <div class=\"input-group col-xs-10\">","                                        <button type=\"submit\" class=\"btn btn-primary\">Save</button>","                                    </div>","                                </td>","                            </tr>","                        </tfoot>","                    </table>","                </div>","            </div>","        </div>","    </div>","    <div class=\"row\">","        <div class=\"col-lg-12\">","            <div class=\"panel panel-default\">","                <div class=\"panel-heading\">","                    <h3 class=\"panel-title\"><i class=\"fa fa-code fa-fw\"></i> Code</h3>","                </div>","                <div class=\"panel-body nopadding<?= (!empty($form['errors']['source']) ? ' has-error has-feedback' : '') ?>\">","                    <textarea class=\"form-control form-textarea\" rows=\"10\" id=\"input-source\" name=\"source\"><?= (!empty($form['values']['source']) ? $form['values']['source'] : '') ?></textarea>","                    <div id=\"source\" style=\"position: relative;height: 380px;width: 100%\"></div>","                    <?php if (!empty($form['errors']['source'])): ?><span class=\"glyphicon glyphicon-warning-sign form-control-feedback\"></span><?php endif ?>","                    <?php if (!empty($form['errors']['source'])): ?><span class=\"help-block\" style=\"margin-left:10px\"><?= $form['errors']['source'] ?></span><?php endif ?>","                </div>","            </div>","        </div>","    </div>","</form>",""]}],[{"start":{"row":24,"column":14},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":42}],[{"start":{"row":42,"column":0},"end":{"row":44,"column":54},"action":"remove","lines":["                                        <!--<span class=\"input-group-btn\">-->","                                        <!--    <button class=\"btn btn-success add-row\" type=\"button\"><i class=\"fa fa-plus\"></i></button>-->","                                        <!--</span>-->"],"id":43}],[{"start":{"row":41,"column":245},"end":{"row":42,"column":0},"action":"remove","lines":["",""],"id":44}],[{"start":{"row":114,"column":11},"end":{"row":115,"column":0},"action":"insert","lines":["",""],"id":45},{"start":{"row":115,"column":0},"end":{"row":115,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":115,"column":8},"end":{"row":125,"column":11},"action":"insert","lines":["","        $(window).bind('keydown', function(event) {","            if (event.ctrlKey || event.metaKey) {","                switch (String.fromCharCode(event.which).toLowerCase()) {","                    case 's':","                        event.preventDefault();","                        $('[type=\"submit\"]').trigger('click');","                    break;","                }","            }","        });"],"id":46}],[{"start":{"row":55,"column":136},"end":{"row":56,"column":0},"action":"insert","lines":["",""],"id":47},{"start":{"row":56,"column":0},"end":{"row":56,"column":44},"action":"insert","lines":["                                            "]}],[{"start":{"row":56,"column":44},"end":{"row":56,"column":151},"action":"insert","lines":["<option value=\"template\"<?= ($form['values']['type'] == 'template' ? ' selected' : '') ?>>Template</option>"],"id":48}],[{"start":{"row":2,"column":32},"end":{"row":2,"column":35},"action":"insert","lines":["-->"],"id":49},{"start":{"row":2,"column":8},"end":{"row":2,"column":12},"action":"insert","lines":["<!--"]},{"start":{"row":3,"column":43},"end":{"row":3,"column":46},"action":"insert","lines":["-->"]},{"start":{"row":3,"column":8},"end":{"row":3,"column":12},"action":"insert","lines":["<!--"]},{"start":{"row":4,"column":13},"end":{"row":4,"column":16},"action":"insert","lines":["-->"]},{"start":{"row":4,"column":8},"end":{"row":4,"column":12},"action":"insert","lines":["<!--"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":2,"column":0},"end":{"row":4,"column":20},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":3755,"mode":"ace/mode/php"}},"timestamp":1502989483503,"hash":"a6d0a1602d56db9aea2545658195399a91daf9b7"}